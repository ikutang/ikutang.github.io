<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="baidu-site-verification" content="codeva-OBV0UPgBod" />
    <meta name="msvalidate.01" content="B9019CE3751A15D63E78AF8679980069" />
    <meta name="description" content="ç¬¬åå››ç«  ç±»å‹ä¿¡æ¯  è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯å¯ä»¥ä½¿å¾—ä½ å¯ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶å‘ç°å’Œä½¿ç”¨ç±»å‹ä¿¡æ¯ã€‚  æœ¬ç« ä¸»è¦è®¨è®ºJavaå¦‚ä½•è®©æˆ‘ä»¬åœ¨è¿è¡Œæ—¶è¯†åˆ«å¯¹è±¡å’Œç±»çš„ä¿¡æ¯ï¼Œä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š  â€œä¼ ç»Ÿçš„RTTIâ€ï¼Œå‡å®šæˆ‘ä»¬åœ¨ç¼–è¯‘æ—¶å·²ç»çŸ¥é“äº†æ‰€æœ‰çš„ç±»å‹ï¼› â€œåå°„æœºåˆ¶â€ï¼Œå…è®¸åœ¨è¿è¡Œæ—¶å‘ç°å’Œä½¿ç”¨ç±»çš„ä¿¡æ¯ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯">
<meta property="og:url" content="https://lozhu.happy365.day/2019/02/01/c61bac95725c/index.html">
<meta property="og:site_name" content="Lozhu&#39;s blog">
<meta property="og:description" content="ç¬¬åå››ç«  ç±»å‹ä¿¡æ¯  è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯å¯ä»¥ä½¿å¾—ä½ å¯ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶å‘ç°å’Œä½¿ç”¨ç±»å‹ä¿¡æ¯ã€‚  æœ¬ç« ä¸»è¦è®¨è®ºJavaå¦‚ä½•è®©æˆ‘ä»¬åœ¨è¿è¡Œæ—¶è¯†åˆ«å¯¹è±¡å’Œç±»çš„ä¿¡æ¯ï¼Œä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š  â€œä¼ ç»Ÿçš„RTTIâ€ï¼Œå‡å®šæˆ‘ä»¬åœ¨ç¼–è¯‘æ—¶å·²ç»çŸ¥é“äº†æ‰€æœ‰çš„ç±»å‹ï¼› â€œåå°„æœºåˆ¶â€ï¼Œå…è®¸åœ¨è¿è¡Œæ—¶å‘ç°å’Œä½¿ç”¨ç±»çš„ä¿¡æ¯ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-02-01T15:16:43.000Z">
<meta property="article:modified_time" content="2024-12-08T06:50:57.171Z">
<meta property="article:author" content="lozhu">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="Javaç¼–ç¨‹æ€æƒ³">
<meta property="article:tag" content="Javaç±»å‹ä¿¡æ¯">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯</title>
    <!-- async scripts -->
    <!-- Google Analytics -->

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XMGS491MQF"></script>
  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XMGS491MQF');
  </script>


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Lozhu's blog" type="application/atom+xml">
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="modal" class="modal">
  <span id="modal_close_btn" class="modal-close-btn">x</span>
  <img id="modal_image" class="modal-image">
  <!-- <div id="caption"></div> -->
</div>

      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="ç›®å½•"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="ç›®å½•"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="é¡¶éƒ¨" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">é¦–é¡µ</a></li><!--
     --><!--
       --><li><a href="/archives/">å½’æ¡£</a></li><!--
     --><!--
       --><li><a href="/friends/">å‹é“¾</a></li><!--
     --><!--
       --><li><a href="/about/">å…³äº</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://www.travellings.cn/go.html">å¼€å¾€ ğŸš‡</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="ä¸Šä¸€ç¯‡" href="/2019/03/03/385663560223/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="ä¸‹ä¸€ç¯‡" href="/2019/01/24/a7bf16cc5800/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="è¿”å›é¡¶éƒ¨" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="åˆ†äº«æ–‡ç« " href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">ä¸Šä¸€ç¯‡</span>
      <span id="i-next" class="info" style="display:none;">ä¸‹ä¸€ç¯‡</span>
      <span id="i-top" class="info" style="display:none;">è¿”å›é¡¶éƒ¨</span>
      <span id="i-share" class="info" style="display:none;">åˆ†äº«æ–‡ç« </span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <!-- <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://lozhu.happy365.day/2019/02/01/c61bac95725c/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li> -->
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&text=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <!-- <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&title=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li> -->
  <!-- <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&is_video=false&description=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li> -->
  <li><a class="icon" href="mailto:?subject=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯&body=Check out this article: https://lozhu.happy365.day/2019/02/01/c61bac95725c/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&title=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <!-- <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&title=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯"><i class="fab fa-reddit " aria-hidden="true"></i></a></li> -->
  <!-- <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&title=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li> -->
  <!-- <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&title=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯"><i class="fab fa-digg " aria-hidden="true"></i></a></li> -->
  <!-- <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&name=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯&description=&lt;h1 id=&#34;ç¬¬åå››ç« -ç±»å‹ä¿¡æ¯&#34;&gt;&lt;a href=&#34;#ç¬¬åå››ç« -ç±»å‹ä¿¡æ¯&#34; class=&#34;headerlink&#34; title=&#34;ç¬¬åå››ç«  ç±»å‹ä¿¡æ¯&#34;&gt;&lt;/a&gt;ç¬¬åå››ç«  ç±»å‹ä¿¡æ¯&lt;/h1&gt;&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯å¯ä»¥ä½¿å¾—ä½ å¯ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶å‘ç°å’Œä½¿ç”¨ç±»å‹ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ¬ç« ä¸»è¦è®¨è®ºJavaå¦‚ä½•è®©æˆ‘ä»¬åœ¨è¿è¡Œæ—¶è¯†åˆ«å¯¹è±¡å’Œç±»çš„ä¿¡æ¯ï¼Œä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;â€œä¼ ç»Ÿçš„RTTIâ€ï¼Œå‡å®šæˆ‘ä»¬åœ¨ç¼–è¯‘æ—¶å·²ç»çŸ¥é“äº†æ‰€æœ‰çš„ç±»å‹ï¼›&lt;/li&gt;
&lt;li&gt;â€œåå°„æœºåˆ¶â€ï¼Œå…è®¸åœ¨è¿è¡Œæ—¶å‘ç°å’Œä½¿ç”¨ç±»çš„ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ol&gt;"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li> -->
  <!-- <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&t=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li> -->
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0-%E7%B1%BB%E5%9E%8B%E4%BF%A1%E6%81%AF"><span class="toc-number">1.</span> <span class="toc-text">ç¬¬åå››ç«  ç±»å‹ä¿¡æ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#14-1-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81RTTI-Run-Time-Type-Identification"><span class="toc-number">1.1.</span> <span class="toc-text">14.1 ä¸ºä»€ä¹ˆéœ€è¦RTTI(Run-Time Type Identification)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-2-Class%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.2.</span> <span class="toc-text">14.2 Classå¯¹è±¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#output-javaClass-name-com-typeinfo-FancyToy-is-interface-false-Simple-name-FancyToyCanonical-name-com-typeinfo-FancyToy"><span class="toc-number">1.3.</span> <span class="toc-text">output:&#96;&#96;&#96;javaClass name: com.typeinfo.FancyToy is interface? [false]Simple name: FancyToyCanonical name: com.typeinfo.FancyToy</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Class-name-com-typeinfo-HasBatteries-is-interface-true-Simple-name-HasBatteriesCanonical-name-com-typeinfo-HasBatteries"><span class="toc-number">1.4.</span> <span class="toc-text">Class name: com.typeinfo.HasBatteries is interface? [true]Simple name: HasBatteriesCanonical name: com.typeinfo.HasBatteries</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Class-name-com-typeinfo-WaterProof-is-interface-true-Simple-name-WaterProofCanonical-name-com-typeinfo-WaterProof"><span class="toc-number">1.5.</span> <span class="toc-text">Class name: com.typeinfo.WaterProof is interface? [true]Simple name: WaterProofCanonical name: com.typeinfo.WaterProof</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Class-name-com-typeinfo-Shoots-is-interface-true-Simple-name-ShootsCanonical-name-com-typeinfo-Shoots"><span class="toc-number">1.6.</span> <span class="toc-text">Class name: com.typeinfo.Shoots is interface? [true]Simple name: ShootsCanonical name: com.typeinfo.Shoots</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Class-name-com-typeinfo-Toy-is-interface-false-Simple-name-ToyCanonical-name-com-typeinfo-Toy"><span class="toc-number">1.7.</span> <span class="toc-text">Class name: com.typeinfo.Toy is interface? [false]Simple name: ToyCanonical name: com.typeinfo.Toy</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#14-2-2-%E6%B3%9B%E5%8C%96%E7%9A%84Class%E5%BC%95%E7%94%A8"><span class="toc-number">1.7.1.</span> <span class="toc-text">14.2.2 æ³›åŒ–çš„Classå¼•ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-2-3-%E6%96%B0%E7%9A%84%E8%BD%AC%E5%9E%8B%E8%AF%AD%E6%B3%95"><span class="toc-number">1.7.2.</span> <span class="toc-text">14.2.3 æ–°çš„è½¬å‹è¯­æ³•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-3-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E5%89%8D%E5%85%88%E5%81%9A%E6%A3%80%E6%9F%A5"><span class="toc-number">1.8.</span> <span class="toc-text">14.3 ç±»å‹è½¬æ¢å‰å…ˆåšæ£€æŸ¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-5-instanceof%E5%92%8CClass%E7%9A%84%E7%AD%89%E4%BB%B7%E6%80%A7"><span class="toc-number">1.9.</span> <span class="toc-text">14.5 instanceofå’ŒClassçš„ç­‰ä»·æ€§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-6-%E5%8F%8D%E5%B0%84%EF%BC%9A%E8%BF%90%E8%A1%8C%E6%97%B6%E7%9A%84%E7%B1%BB%E4%BF%A1%E6%81%AF"><span class="toc-number">1.10.</span> <span class="toc-text">14.6 åå°„ï¼šè¿è¡Œæ—¶çš„ç±»ä¿¡æ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#14-6-1-%E7%B1%BB%E6%96%B9%E6%B3%95%E6%8F%90%E5%8F%96%E5%99%A8"><span class="toc-number">1.10.1.</span> <span class="toc-text">14.6.1 ç±»æ–¹æ³•æå–å™¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-7-%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span class="toc-number">1.11.</span> <span class="toc-text">14.7 åŠ¨æ€ä»£ç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-8-%E7%A9%BA%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.12.</span> <span class="toc-text">14.8 ç©ºå¯¹è±¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-9-%E6%8E%A5%E5%8F%A3%E4%B8%8E%E7%B1%BB%E5%9E%8B%E4%BF%A1%E6%81%AF"><span class="toc-number">1.13.</span> <span class="toc-text">14.9 æ¥å£ä¸ç±»å‹ä¿¡æ¯</span></a></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">lozhu</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2019-02-01T15:16:43.000Z" class="dt-published" itemprop="datePublished">2019-02-01</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">å­¦ä¹ ç¬”è®°</a>
    </div>


      
    <!-- <div class="article-tag"> -->
    <div class="article-category">
        <i class="fa-solid fa-tag"></i>
        <!-- <a class="p-category" href="/tags/Java/" rel="tag">Java</a>, <a class="p-category" href="/tags/Java%E7%B1%BB%E5%9E%8B%E4%BF%A1%E6%81%AF/" rel="tag">Javaç±»å‹ä¿¡æ¯</a>, <a class="p-category" href="/tags/Java%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/" rel="tag">Javaç¼–ç¨‹æ€æƒ³</a> -->
        <a class="category-link" href="/tags/Java/" rel="tag">Java</a>, <a class="category-link" href="/tags/Java%E7%B1%BB%E5%9E%8B%E4%BF%A1%E6%81%AF/" rel="tag">Javaç±»å‹ä¿¡æ¯</a>, <a class="category-link" href="/tags/Java%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/" rel="tag">Javaç¼–ç¨‹æ€æƒ³</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h1 id="ç¬¬åå››ç« -ç±»å‹ä¿¡æ¯"><a href="#ç¬¬åå››ç« -ç±»å‹ä¿¡æ¯" class="headerlink" title="ç¬¬åå››ç«  ç±»å‹ä¿¡æ¯"></a>ç¬¬åå››ç«  ç±»å‹ä¿¡æ¯</h1><hr>
<blockquote>
<p>è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯å¯ä»¥ä½¿å¾—ä½ å¯ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶å‘ç°å’Œä½¿ç”¨ç±»å‹ä¿¡æ¯ã€‚</p>
</blockquote>
<p>æœ¬ç« ä¸»è¦è®¨è®ºJavaå¦‚ä½•è®©æˆ‘ä»¬åœ¨è¿è¡Œæ—¶è¯†åˆ«å¯¹è±¡å’Œç±»çš„ä¿¡æ¯ï¼Œä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ol>
<li>â€œä¼ ç»Ÿçš„RTTIâ€ï¼Œå‡å®šæˆ‘ä»¬åœ¨ç¼–è¯‘æ—¶å·²ç»çŸ¥é“äº†æ‰€æœ‰çš„ç±»å‹ï¼›</li>
<li>â€œåå°„æœºåˆ¶â€ï¼Œå…è®¸åœ¨è¿è¡Œæ—¶å‘ç°å’Œä½¿ç”¨ç±»çš„ä¿¡æ¯ã€‚</li>
</ol>
<span id="more"></span>




<h2 id="14-1-ä¸ºä»€ä¹ˆéœ€è¦RTTI-Run-Time-Type-Identification"><a href="#14-1-ä¸ºä»€ä¹ˆéœ€è¦RTTI-Run-Time-Type-Identification" class="headerlink" title="14.1 ä¸ºä»€ä¹ˆéœ€è¦RTTI(Run-Time Type Identification)"></a>14.1 ä¸ºä»€ä¹ˆéœ€è¦RTTI(Run-Time Type Identification)</h2><p>RTTIæä¾›ç±»å‹ç»´æŠ¤çš„ä¿¡æ¯ï¼Œä¸ºå¤šæ€æœºåˆ¶æä¾›å®ç°åŸºç¡€ã€‚å¤šæ€çš„å®ç°ä¸»è¦æ˜¯é€šè¿‡å‘ä¸Šè½¬å‹ï¼Œé€šè¿‡æ³›åŒ–çˆ¶ç±»æ¥å¼•ç”¨å­ç±»å¯¹è±¡ã€‚</p>
<pre><code class="java">package com.typeinfo;

import java.util.Arrays;
import java.util.List;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-06 14:52
 */
public class Shapes &#123;
    public static void main(String[] args) &#123;
        List&lt;Shape&gt; shapeList = Arrays.asList(new Circle(), new Square(), new Triangle());
        shapeList.forEach(Shape::draw);
    &#125;
&#125;

abstract class Shape &#123;
    void draw() &#123;
        System.out.println(this + &quot;.draw.&quot;);
    &#125;

    public abstract String toString();
&#125;

class Circle extends Shape &#123;

    @Override
    public String toString() &#123;
        return &quot;Circle&quot;;
    &#125;
&#125;

class Triangle extends Shape &#123;

    @Override
    public String toString() &#123;
        return &quot;Triangle&quot;;
    &#125;
&#125;

class Square extends Shape &#123;

    @Override
    public String toString() &#123;
        return &quot;Square&quot;;
    &#125;
&#125;
</code></pre>
<p>output:</p>
<pre><code class="java">Circle.draw.
Square.draw.
Triangle.draw.

Process finished with exit code 0
</code></pre>
<h2 id="14-2-Classå¯¹è±¡"><a href="#14-2-Classå¯¹è±¡" class="headerlink" title="14.2 Classå¯¹è±¡"></a>14.2 Classå¯¹è±¡</h2><p>RTTIçš„åŠŸèƒ½ä¸»è¦æ˜¯ç”±Classç±»å®ç°çš„ï¼Œæ¯ä¸ªç±»éƒ½æ˜¯Classç±»çš„ä¸€ä¸ªå¯¹è±¡ã€‚æ‰€æœ‰çš„ç±»éƒ½æ˜¯åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶è¢«â€ç±»åŠ è½½å™¨â€åŠ¨æ€çš„åŠ è½½åˆ°JVMä¸­çš„ï¼Œå½“ç¨‹åºåˆ›å»ºç¬¬ä¸€ä¸ªç±»çš„æˆå‘˜å¼•ç”¨æ—¶ï¼Œä¾¿ä¼šåŠ è½½è¿™ä¸ªç±»ï¼Œè¿™è¯´æ˜æ„é€ å™¨æ˜¯ç±»çš„é™æ€æ–¹æ³•ã€‚ä½¿ç”¨newåˆ›å»ºçš„ç±»çš„æ–°å¯¹è±¡ä¹Ÿä¼šè¢«å½“ä½œç±»çš„é™æ€æˆå‘˜ï¼Œå› æ­¤Javaæ˜¯åŠ¨æ€åŠ è½½çš„ã€‚é¦–å…ˆæ£€æŸ¥ç±»çš„Classå¯¹è±¡æ˜¯å¦åŠ è½½ï¼Œå¦‚æœå°šæœªåŠ è½½ï¼Œé»˜è®¤çš„ç±»çš„åŠ è½½å™¨ä¼šæŸ¥æ‰¾åŒåçš„.classæ–‡ä»¶,ä¸€æ—¦æŸä¸ªç±»çš„Classå¯¹è±¡è¢«è½½å…¥å†…å­˜ï¼Œä¾¿ä¼šç”¨æ¥åˆ›å»ºè¿™ä¸ªç±»çš„æ‰€æœ‰å¯¹è±¡ã€‚</p>
<pre><code class="java">package com.typeinfo;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-07 17:07
 */
public class SweetShop &#123;
    public static void main(String[] args) &#123;
        System.out.println(&quot;inside main.&quot;);
        new Candy();
        System.out.println(&quot;after create candy&quot;);
        new Candy();
        System.out.println(&quot;after create candy2&quot;);
        try&#123;
            Class.forName(&quot;com.typeinfo.Gum&quot;);
        &#125;catch (ClassNotFoundException e) &#123;
            System.out.println(&quot;Class Gum not found.&quot;);
        &#125;
        System.out.println(&quot;after create after gum.&quot;);
        new Cookie();
        System.out.println(&quot;after create cookie&quot;);
    &#125;
&#125;

class Candy &#123;
    static &#123;
        System.out.println(&quot;Loading candy.&quot;);
    &#125;
&#125;

class Gum &#123;
    static &#123;
        System.out.println(&quot;Loading gum.&quot;);
    &#125;
&#125;

class Cookie &#123;
    static &#123;
        System.out.println(&quot;Loading cookie.&quot;);
    &#125;
&#125;
</code></pre>
<p>output:</p>
<pre><code class="java">inside main.
Loading candy.
after create candy
after create candy2
Loading gum.
after create after gum.
Loading cookie.
after create cookie

Process finished with exit code 0
</code></pre>
<p>ä»è¾“å‡ºä¸­å¯ä»¥çœ‹å‡ºï¼ŒJavaä¸­çš„ç±»éƒ½æ˜¯åœ¨éœ€è¦æ—¶æ‰è¢«åŠ è½½çš„ã€‚forName()æ˜¯Classç±»çš„ä¸€ä¸ªé™æ€æˆå‘˜ï¼Œè°ƒç”¨è¯¥æ–¹æ³•å¯ä»¥è¿”å›ç›¸åº”ç±»çš„å®ä¾‹ã€‚<br>æ— è®ºä½•æ—¶ï¼Œè‹¥è¦ä½¿ç”¨ç±»å‹ä¿¡æ¯ï¼Œå¿…é¡»æŒæœ‰Classå¯¹è±¡çš„å¼•ç”¨ï¼ŒClass.forName()æ˜¯å®ç°æ­¤åŠŸèƒ½çš„ä¾¿æ·æ–¹å¼ï¼Œå› ä¸ºä¸éœ€è¦å†ä¸ºäº†è·å–Classå¼•ç”¨è€ŒæŒæœ‰è¯¥ç±»å‹çš„å¼•ç”¨ã€‚å¦‚æœå·²ç»æ‹¥æœ‰ä¸€ä¸ªç±»å‹çš„å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨getClass()æ¥è·å–Classå¼•ç”¨ï¼Œè¿”å›è¡¨ç¤ºè¯¥å¯¹è±¡çš„å®é™…ç±»å‹çš„Classå¼•ç”¨ã€‚</p>
<pre><code class="java">package com.typeinfo;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-07 18:22
 */
public class ToyTest &#123;
    private static void printInfo(Class cc) &#123;
        System.out.println(&quot;Class name: &quot; + cc.getName() + &quot; is interface? [&quot; + cc.isInterface() + &quot;]&quot;);
        System.out.println(&quot;Simple name: &quot; + cc.getSimpleName());
        System.out.println(&quot;Canonical name: &quot; + cc.getCanonicalName());
        System.out.println(&quot;---------------&quot;);
    &#125;

    public static void main(String[] args) &#123;
        Class c = null;
        try &#123;
            c = Class.forName(&quot;com.typeinfo.FancyToy&quot;);
        &#125; catch (ClassNotFoundException e) &#123;
            System.out.println(&quot;class not found.&quot;);
        &#125;
        assert c != null;
        printInfo(c);
        for (Class face : c.getInterfaces()) &#123;
            printInfo(face);
        &#125;
        Class up = c.getSuperclass();
        Object object = null;
        try &#123;
            object = up.newInstance();
        &#125; catch (InstantiationException e) &#123;
            System.out.println(&quot;è·å–å®ä¾‹å¤±è´¥.&quot;);
        &#125; catch (IllegalAccessException e) &#123;
            System.out.println(&quot;æ— æ³•è®¿é—®.&quot;);
        &#125;
        assert object != null;
        printInfo(object.getClass());
    &#125;
&#125;

interface HasBatteries &#123;
&#125;

interface WaterProof &#123;
&#125;

interface Shoots &#123;
&#125;

class Toy &#123;
    Toy() &#123;
    &#125;

    Toy(int i) &#123;
    &#125;
&#125;

class FancyToy extends Toy implements HasBatteries, WaterProof, Shoots &#123;
    FancyToy() &#123;
        super(1);
    &#125;
&#125;
</code></pre>
<h2 id="output-javaClass-name-com-typeinfo-FancyToy-is-interface-false-Simple-name-FancyToyCanonical-name-com-typeinfo-FancyToy"><a href="#output-javaClass-name-com-typeinfo-FancyToy-is-interface-false-Simple-name-FancyToyCanonical-name-com-typeinfo-FancyToy" class="headerlink" title="output:&#96;&#96;&#96;javaClass name: com.typeinfo.FancyToy is interface? [false]Simple name: FancyToyCanonical name: com.typeinfo.FancyToy"></a>output:<br>&#96;&#96;&#96;java<br>Class name: com.typeinfo.FancyToy is interface? [false]<br>Simple name: FancyToy<br>Canonical name: com.typeinfo.FancyToy</h2><h2 id="Class-name-com-typeinfo-HasBatteries-is-interface-true-Simple-name-HasBatteriesCanonical-name-com-typeinfo-HasBatteries"><a href="#Class-name-com-typeinfo-HasBatteries-is-interface-true-Simple-name-HasBatteriesCanonical-name-com-typeinfo-HasBatteries" class="headerlink" title="Class name: com.typeinfo.HasBatteries is interface? [true]Simple name: HasBatteriesCanonical name: com.typeinfo.HasBatteries"></a>Class name: com.typeinfo.HasBatteries is interface? [true]<br>Simple name: HasBatteries<br>Canonical name: com.typeinfo.HasBatteries</h2><h2 id="Class-name-com-typeinfo-WaterProof-is-interface-true-Simple-name-WaterProofCanonical-name-com-typeinfo-WaterProof"><a href="#Class-name-com-typeinfo-WaterProof-is-interface-true-Simple-name-WaterProofCanonical-name-com-typeinfo-WaterProof" class="headerlink" title="Class name: com.typeinfo.WaterProof is interface? [true]Simple name: WaterProofCanonical name: com.typeinfo.WaterProof"></a>Class name: com.typeinfo.WaterProof is interface? [true]<br>Simple name: WaterProof<br>Canonical name: com.typeinfo.WaterProof</h2><h2 id="Class-name-com-typeinfo-Shoots-is-interface-true-Simple-name-ShootsCanonical-name-com-typeinfo-Shoots"><a href="#Class-name-com-typeinfo-Shoots-is-interface-true-Simple-name-ShootsCanonical-name-com-typeinfo-Shoots" class="headerlink" title="Class name: com.typeinfo.Shoots is interface? [true]Simple name: ShootsCanonical name: com.typeinfo.Shoots"></a>Class name: com.typeinfo.Shoots is interface? [true]<br>Simple name: Shoots<br>Canonical name: com.typeinfo.Shoots</h2><h2 id="Class-name-com-typeinfo-Toy-is-interface-false-Simple-name-ToyCanonical-name-com-typeinfo-Toy"><a href="#Class-name-com-typeinfo-Toy-is-interface-false-Simple-name-ToyCanonical-name-com-typeinfo-Toy" class="headerlink" title="Class name: com.typeinfo.Toy is interface? [false]Simple name: ToyCanonical name: com.typeinfo.Toy"></a>Class name: com.typeinfo.Toy is interface? [false]<br>Simple name: Toy<br>Canonical name: com.typeinfo.Toy</h2><p>Process finished with exit code 0</p>
<pre><code>
åœ¨ç»™forName()æ–¹æ³•ä¼ é€’ç±»åæ˜¯å¿…é¡»ä½¿ç”¨å…¨é™å®šåã€‚
Classç±»å¸¸ç”¨æ–¹æ³•åˆ—è¡¨ï¼š

| æ–¹æ³•               | æè¿°                               |
| ------------------ | ---------------------------------- |
| getName()          | è·å–å…¨é™å®šç±»å                     |
| getSimpleName()    | è·å–ä¸å«åŒ…ç±»å                     |
| getCanonicalName() | å«åŒ…åçš„å…¨é™å®šå                   |
| getInterfaces()    | Classå¯¹è±¡æ‰€åŒ…å«çš„æ¥å£              |
| isInterface()      | åˆ¤æ–­Classå¯¹è±¡æ˜¯å¦æ˜¯æ¥å£            |
| newInstance()      | è™šæ‹Ÿæ„é€ å™¨(è¯¥ç±»å¿…é¡»å«æœ‰é»˜è®¤æ„é€ å™¨) |
| getSuperClass()    | é—´æ¥è·å–Classå¯¹è±¡åŸºç±»              |

### 14.2.1 ç±»å­—é¢å¸¸é‡

Javaè¿˜æä¾›äº†å¦ä¸€ç§æ–¹æ³•æ¥ç”ŸæˆClasså¯¹è±¡çš„å¼•ç”¨ï¼Œå³ä½¿ç”¨ç±»å­—é¢å¸¸é‡ï¼Œä¾‹å¦‚

```java
FancyToy.class;
</code></pre>
<p>è¿™æ ·åšæ›´åŠ ç®€å•ã€å®‰å…¨ï¼Œå› ä¸ºå®ƒåœ¨ç¼–è¯‘å™¨å°±ä¼šå—åˆ°æ£€æŸ¥ï¼Œå› æ­¤ä¸éœ€è¦å¼‚å¸¸æ£€æŸ¥ï¼ŒåŒæ—¶æ ¹é™¤äº†å¯¹forNam()æ–¹æ³•çš„è°ƒç”¨ï¼Œå› æ­¤æ›´åŠ é«˜æ•ˆã€‚<br>ç±»å­—é¢å¸¸é‡æ–¹æ³•ä¸ä»…é€‚ç”¨äºæ™®é€šçš„ç±»ï¼Œä¹Ÿé€‚ç”¨äºæ¥å£ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ•°ç»„ã€‚å¯¹äºåŸºæœ¬åŒ…è£…ç±»å‹çš„Classå¯¹è±¡ã€‚è¿˜æœ‰ä¸€ä¸ªæ ‡å‡†å­—æ®µTYPEï¼ŒTYPEå­—æ®µæ˜¯ä¸€ä¸ªå¼•ç”¨ï¼ŒæŒ‡å‘å¯¹åº”çš„åŸºæœ¬ç±»å‹Classå¯¹è±¡ã€‚<br><strong>å»ºè®®ä½¿ç”¨.classæ–¹æ³•ï¼Œä¸æ™®é€šç±»ä¿æŒä¸€è‡´</strong></p>
<table>
<thead>
<tr>
<th>å­—é¢å¸¸é‡</th>
<th>æ ‡å‡†TYPEå­—æ®µ</th>
</tr>
</thead>
<tbody><tr>
<td>boolean.class</td>
<td>Boolean.class</td>
</tr>
<tr>
<td>char.class</td>
<td>Char.class</td>
</tr>
<tr>
<td>byte.class</td>
<td>Byte.class</td>
</tr>
<tr>
<td>short.class</td>
<td>Short.class</td>
</tr>
<tr>
<td>int.class</td>
<td>Integer.class</td>
</tr>
<tr>
<td>long.class</td>
<td>Long.class</td>
</tr>
<tr>
<td>float.class</td>
<td>Flocat.class</td>
</tr>
<tr>
<td>double.class</td>
<td>Double.class</td>
</tr>
<tr>
<td>void.class</td>
<td>Void.class</td>
</tr>
</tbody></table>
<p>å½“ä½¿ç”¨.classæ¥åˆ›å»ºClasså¯¹è±¡å¼•ç”¨æ—¶ï¼Œä¸ä¼šè‡ªåŠ¨åˆå§‹åŒ–è¯¥Classå¯¹è±¡ï¼ŒåŒ…å«ä¸‰ä¸ªè¿‡ç¨‹çš„å‡†å¤‡ï¼š</p>
<ol>
<li><strong>åŠ è½½</strong>ï¼šç”±ç±»åŠ è½½å™¨æ‰§è¡Œï¼ŒæŸ¥æ‰¾å­—èŠ‚ç ï¼Œä¸ºå­—èŠ‚ç åˆ›å»ºClasså¯¹è±¡ï¼›</li>
<li><strong>é“¾æ¥</strong>ï¼šéªŒè¯ç±»ä¸­çš„å­—èŠ‚ç ï¼Œä¸ºé™æ€åŸŸåˆ†é…ç©ºé—´ï¼Œå¦‚æœå¿…é¡»çš„è¯ï¼Œå°†è§£æè¿™ä¸ªç±»åˆ›å»ºçš„å¯¹å…¶ä»–ç±»çš„æ‰€æœ‰å¼•ç”¨ï¼›</li>
<li><strong>åˆå§‹åŒ–</strong>ï¼šå¦‚æœè¯¥ç±»å…·æœ‰è¶…ç±»ï¼Œåˆ™å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼Œæ‰§è¡Œé™æ€åˆå§‹åŒ–å’Œé™æ€åˆå§‹åŒ–å—ã€‚åˆå§‹åŒ–è¢«å»¶è¿Ÿåˆ°å¯¹é™æ€æ–¹æ³•æˆ–è€…éé™æ€æ•°æ®åŸŸè¿›è¡Œé¦–æ¬¡å¼•ç”¨æ—¶æ‰§è¡Œã€‚</li>
</ol>
<pre><code class="java">package com.typeinfo;

import java.util.Random;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-07 19:07
 */
public class ClassInitailization &#123;
    public static Random random = new Random(47);

    public static void main(String[] args) throws ClassNotFoundException &#123;
        Class initable = Initable.class;
        System.out.println(&quot;after create initable ref.&quot;);
        System.out.println(Initable.staticFinal);
        System.out.println(Initable.staticFinal2);
        System.out.println(Initable2.staticNonFinal);
        Class initable3 = Class.forName(&quot;com.typeinfo.Initable3&quot;);
        System.out.println(&quot;after create initable3.&quot;);
        System.out.println(Initable3.staticNonFinal);

    &#125;
&#125;

class Initable &#123;
    static final int staticFinal = 47;
    static final int staticFinal2 = ClassInitailization.random.nextInt(1000);

    static &#123;
        System.out.println(&quot;Initializing initable.&quot;);
    &#125;
&#125;

class Initable2 &#123;
    static int staticNonFinal = 147;

    static &#123;
        System.out.println(&quot;initializing initable2.&quot;);
    &#125;
&#125;

class Initable3 &#123;
    static int staticNonFinal = 74;

    static &#123;
        System.out.println(&quot;initializing initable3.&quot;);
    &#125;
&#125;
</code></pre>
<p>output:</p>
<pre><code class="java">after create initable ref.
47
Initializing initable.
258
initializing initable2.
147
initializing initable3.
after create initable3.
74

Process finished with exit code 0
</code></pre>
<p>åˆå§‹åŒ–æœ‰æ•ˆçš„ä½“ç°äº†â€æƒ°æ€§â€ï¼Œä»Initableçš„å¼•ç”¨åˆ›å»ºä¸­çŸ¥é“<strong>ä½¿ç”¨.classåˆ›å»ºClasså¼•ç”¨ä¸ä¼šå¼•å‘åˆå§‹åŒ–</strong>ï¼Œä½†æ˜¯ä¸ºäº†äº§ç”Ÿå¼•ç”¨ï¼Œ<strong>Class.forName()ç«‹å³è¿›è¡Œäº†åˆå§‹åŒ–</strong>ã€‚<br><strong>å¦‚æœä¸€ä¸ªstatic finalå€¼æ˜¯ç¼–è¯‘æœŸå¸¸é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼ä¸éœ€è¦å¯¹ç±»è¿›è¡Œåˆå§‹åŒ–å°±å¯ä»¥è¿›è¡Œè¯»å–ã€‚ä½†æ˜¯å°†ä¸€ä¸ªåŸŸè®¾ç½®ä¸ºstatic finalä¸è¶³ä»¥ç¡®ä¿è¿™ç§è¡Œä¸º</strong>ï¼Œå¦‚Initable.staticFinal2çš„è®¿é—®å¼ºåˆ¶ç±»è¿›è¡Œäº†åˆå§‹åŒ–ã€‚<br>å¦‚æœä¸€ä¸ªå¸¸é‡æ˜¯staticä½†ä¸æ˜¯finalçš„ï¼Œé‚£ä¹ˆåœ¨å¯¹å®ƒè¿›è¡Œè®¿é—®æ—¶ï¼Œæ€»æ˜¯è¦æ±‚åœ¨å¯¹å®ƒè¿›è¡Œè¯»å–å‰ï¼Œå…ˆè¿›è¡Œé“¾æ¥(åˆ†é…å­˜å‚¨ç©ºé—´)å’Œåˆå§‹åŒ–(åˆå§‹åŒ–è¯¥åŸŸç£ç›˜)ã€‚</p>
<h3 id="14-2-2-æ³›åŒ–çš„Classå¼•ç”¨"><a href="#14-2-2-æ³›åŒ–çš„Classå¼•ç”¨" class="headerlink" title="14.2.2 æ³›åŒ–çš„Classå¼•ç”¨"></a>14.2.2 æ³›åŒ–çš„Classå¼•ç”¨</h3><p>Classå¼•ç”¨æ‰€è¡¨ç¤ºçš„å°±æ˜¯å®ƒæ‰€æŒ‡å‘çš„ç±»çš„ç¡®åˆ‡ç±»å‹ï¼Œå¯ä»¥åˆ¶é€ ç±»çš„å®ä¾‹ï¼ŒåŒ…å«ç±»çš„é™æ€æˆå‘˜å’Œæ–¹æ³•ä»£ç ã€‚<br>åœ¨Java SE5ä¸­Classå¼•ç”¨çš„ç±»å‹å˜å¾—æ›´åŠ å…·ä½“ï¼Œè¿™æ˜¯é€šè¿‡å…è®¸ä½ Classå¼•ç”¨æ‰€æŒ‡å‘çš„Classå¯¹è±¡å¼•ç”¨ç±»å‹è¿›è¡Œé™å®šå®ç°çš„ã€‚</p>
<pre><code class="java">package com.typeinfo;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-07 19:36
 */
public class GenericClassReference &#123;
    public static void main(String[] args) &#123;
        Class intClass = int.class;
        Class&lt;Integer&gt; genericIntClass = int.class;
        genericIntClass = Integer.class;
        intClass = double.class;
        //genericIntClass = double.class;  //ç¼–è¯‘é”™è¯¯
    &#125;
&#125;
</code></pre>
<p><strong>æ™®é€šçš„ç±»å¼•ç”¨ä¸ä¼šäº§ç”Ÿè­¦å‘Šï¼Œå°½ç®¡æ³›å‹ç±»å¼•ç”¨åªèƒ½æŒ‡å‘å…¶å£°æ˜çš„ç±»å‹ï¼Œä½†æ˜¯æ™®é€šçš„ç±»å¼•ç”¨å¯ä»¥è¢«é‡æ–°èµ‹å€¼ä¸ºå…¶ä»–ä»»ä½•ç±»å‹çš„å¼•ç”¨ï¼Œå› æ­¤é€šè¿‡ä½¿ç”¨æ³›å‹ï¼Œå¯ä»¥å¼ºåˆ¶ç¼–è¯‘å™¨è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚</strong></p>
<p>å¦‚æœå¸Œæœ›ç¨å¾®æ”¾å®½è¿™ç§é™åˆ¶ï¼Œå¦‚ï¼š</p>
<pre><code class="java">Class&lt;Number&gt; c = int.class;
</code></pre>
<p>ä¸Šè¿°ä»£ç äº§ç”Ÿäº†ç¼–è¯‘é”™è¯¯ï¼Œå› ä¸ºInteger Classå¯¹è±¡ä¸æ˜¯Number Classçš„å­ç±»ã€‚<br>ä¸ºäº†èƒ½å¤Ÿåœ¨ä½¿ç”¨æ³›åŒ–çš„Classå¼•ç”¨æ—¶æ”¾å®½é™åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨æ³›å‹é€šé…ç¬¦ã€‚</p>
<pre><code class="java">package com.typeinfo;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-07 19:46
 */
public class WildcardClassReference &#123;
    public static void main(String[] args) &#123;
        Class&lt;? extends Number&gt; c = int.class;
        c = double.class;
    &#125;
&#125;
</code></pre>
<p>ä¸Šè¿°ä»£ç æ²¡æœ‰äº§ç”Ÿä»»ä½•è­¦å‘Šä¿¡æ¯ã€‚Class<?>ä¼˜äºæ™®é€šçš„Classï¼Œå¹¶ä¸”ä¸¤è€…ç­‰ä»·ã€‚
**Class<?>çš„å¥½å¤„æ˜¯å®ƒè¡¨ç¤ºä½ å¹¶éç¢°å·§æˆ–è€…å¤„äºç–å¿½è€Œä½¿ç”¨äº†ä¸€ä¸ªéå…·ä½“çš„ç±»å‹ã€‚**ä¸ºäº†åˆ›å»ºä¸€ä¸ªClasså¼•ç”¨ï¼Œå®ƒè¢«é™å®šä¸ºæŸç§ç±»å‹ï¼Œå’Œextendsç»“åˆï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªèŒƒå›´ã€‚<br><strong>ä½¿ç”¨æ³›å‹å¯ä»¥ä¿ƒä½¿ç¼–è¯‘å™¨åœ¨ç¼–è¯‘å™¨æä¾›ç±»å‹æ£€æŸ¥ã€‚</strong></p>
<p>å°†æ³›å‹ç”¨äºClasså¯¹è±¡ï¼ŒnewInstance()æ–¹æ³•è¿”å›çš„å°†æ˜¯å…·ä½“çš„ç±»å‹è€Œä¸æ˜¯Objectã€‚ä½†æ˜¯è¿™ç§å…·ä½“ç±»å‹æœ‰äº›è®¸é™åˆ¶ï¼Œç”±å…·ä½“ç±»å‹çš„Classå¼•ç”¨getSuperClass()è¿”å›çš„ç±»å‹æ˜¯Objectç±»å‹ã€‚</p>
<pre><code class="java">package com.typeinfo;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-07 20:04
 */
public class GenericToyTest &#123;
    public static void main(String[] args) throws IllegalAccessException, InstantiationException &#123;
        Class&lt;FancyToy&gt; fancyToyClass = FancyToy.class;
        FancyToy fancyToy = fancyToyClass.newInstance();
        Class&lt;? super FancyToy&gt; c = fancyToyClass.getSuperclass();
//        Class&lt;Toy&gt; toyClass = fancyToyClass.getSuperclass();   ç¼–è¯‘é”™è¯¯
        Object object = fancyToyClass.getSuperclass();
    &#125;
&#125;
</code></pre>
<h3 id="14-2-3-æ–°çš„è½¬å‹è¯­æ³•"><a href="#14-2-3-æ–°çš„è½¬å‹è¯­æ³•" class="headerlink" title="14.2.3 æ–°çš„è½¬å‹è¯­æ³•"></a>14.2.3 æ–°çš„è½¬å‹è¯­æ³•</h3><p>Java SE5è¿˜æ·»åŠ äº†ç”¨äºClasså¼•ç”¨è½¬å‹çš„è¯­æ³•ï¼Œå³cast()æ–¹æ³•ã€‚cast()æ–¹æ³•æ¥æ”¶å‚æ•°å¯¹è±¡ï¼Œå¹¶å°†å…¶è½¬å‹ä¸ºClasså¼•ç”¨çš„ç±»å‹ã€‚<br>åœ¨Java SE5ä¸­å¦ä¸€ä¸ªæœ€æ²¡ç”¨çš„æ–°ç‰¹æ€§å°±æ˜¯Class.asSubclassï¼Œè¯¥æ–¹æ³•å…è®¸ä½ å°†ä¸€ä¸ªç±»å¯¹è±¡è½¬ä¸ºæ›´åŠ å…·ä½“çš„å¯¹è±¡ç±»å‹ã€‚</p>
<pre><code class="java">package com.typeinfo;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-07 20:12
 */
public class ClassCasts &#123;
    Building building = new House();
    Class&lt;House&gt; houseClass = House.class;
    House house = houseClass.cast(building);
&#125;

class Building&#123;
&#125;

class House extends Building &#123;
&#125;
</code></pre>
<h2 id="14-3-ç±»å‹è½¬æ¢å‰å…ˆåšæ£€æŸ¥"><a href="#14-3-ç±»å‹è½¬æ¢å‰å…ˆåšæ£€æŸ¥" class="headerlink" title="14.3 ç±»å‹è½¬æ¢å‰å…ˆåšæ£€æŸ¥"></a>14.3 ç±»å‹è½¬æ¢å‰å…ˆåšæ£€æŸ¥</h2><p>è¿„ä»Šä¸ºæ­¢ï¼ŒRTTIçš„å½¢å¼åŒ…æ‹¬ï¼š</p>
<ol>
<li>ä¼ ç»Ÿçš„ç±»å‹è½¬æ¢ï¼›</li>
<li>ä»£è¡¨å¯¹è±¡çš„ç±»å‹çš„Classå¯¹è±¡ï¼›</li>
<li>å…³é”®å­—instanceofï¼šåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯æŸä¸ªç‰¹å®šç±»å‹çš„å®ä¾‹ã€‚</li>
</ol>
<pre><code class="java">if(x instaceof Dog) &#123;
    (Dog)x.bark();
&#125;
</code></pre>
<p>instanceofæœ‰æ¯”è¾ƒä¸¥æ ¼çš„é™åˆ¶ï¼Œåªå¯å°†å…¶ä¸å‘½åç±»å‹æ¯”è¾ƒï¼Œè€Œä¸èƒ½ä¸Classå¯¹è±¡æ¯”è¾ƒã€‚</p>
<h2 id="14-5-instanceofå’ŒClassçš„ç­‰ä»·æ€§"><a href="#14-5-instanceofå’ŒClassçš„ç­‰ä»·æ€§" class="headerlink" title="14.5 instanceofå’ŒClassçš„ç­‰ä»·æ€§"></a>14.5 instanceofå’ŒClassçš„ç­‰ä»·æ€§</h2><p>instanceof()å’ŒisInstance()æ–¹æ³•ç”Ÿæˆçš„ç»“æœå®Œå…¨ä¸€æ ·ï¼Œequalså’Œ&#x3D;&#x3D;ä¹Ÿå®Œå…¨ä¸€æ ·ã€‚ä½†æ˜¯<strong>instanceofä¿æŒäº†ç±»å‹çš„æ¦‚å¿µï¼Œè€Œ&#x3D;&#x3D;æ¯”è¾ƒçš„æ˜¯å®é™…çš„Classå¯¹è±¡ï¼Œæ²¡æœ‰è€ƒè™‘ç»§æ‰¿ã€‚</strong></p>
<pre><code class="java">package com.typeinfo;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-07 20:51
 */
public class FamilyVsExactType &#123;
    static void test(Object object) &#123;
        System.out.println(&quot;Testing object of type :&quot; + object.getClass());
        System.out.println(&quot;object instanceof Base: &quot; + (object instanceof Base));
        System.out.println(&quot;object instanceof Derived :&quot; + (object instanceof Derived));
        System.out.println(&quot;Base.isInstance(object): &quot; + Base.class.isInstance(object));
        System.out.println(&quot;Derived.isInstance(object): &quot; + Derived.class.isInstance(object));
        System.out.println(&quot;object.getClass() == Base.class(): &quot; + (object.getClass() == Base.class));
        System.out.println(&quot;object.getClass() == Derived.class(): &quot; + (object.getClass() == Derived.class));
        System.out.println(&quot;object.getClass().equals(Base.class()): &quot; + (object.getClass().equals(Base.class)));
        System.out.println(&quot;object.getClass().equals(Derived.class()): &quot; + (object.getClass().equals(Derived.class)));
    &#125;

    public static void main(String[] args) &#123;
        test(new Base());
        test(new Derived());
    &#125;
&#125;

class Base &#123;
&#125;

class Derived extends Base &#123;
&#125;
</code></pre>
<p>output:</p>
<pre><code class="java">Testing object of type :class com.typeinfo.Base
object instanceof Base: true
object instanceof Derived :false
Base.isInstance(object): true
Derived.isInstance(object): false
object.getClass() == Base.class(): true
object.getClass() == Derived.class(): false
object.getClass().equals(Base.class()): true
object.getClass().equals(Derived.class()): false
Testing object of type :class com.typeinfo.Derived
object instanceof Base: true
object instanceof Derived :true
Base.isInstance(object): true
Derived.isInstance(object): true
object.getClass() == Base.class(): false
object.getClass() == Derived.class(): true
object.getClass().equals(Base.class()): false
object.getClass().equals(Derived.class()): true

Process finished with exit code 0
</code></pre>
<h2 id="14-6-åå°„ï¼šè¿è¡Œæ—¶çš„ç±»ä¿¡æ¯"><a href="#14-6-åå°„ï¼šè¿è¡Œæ—¶çš„ç±»ä¿¡æ¯" class="headerlink" title="14.6 åå°„ï¼šè¿è¡Œæ—¶çš„ç±»ä¿¡æ¯"></a>14.6 åå°„ï¼šè¿è¡Œæ—¶çš„ç±»ä¿¡æ¯</h2><p>RTTIçš„é™åˆ¶ï¼šå¦‚æœéœ€è¦çŸ¥é“æŸä¸ªå¯¹è±¡çš„ç¡®åˆ‡ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨RTTIï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé™åˆ¶ï¼šè¿™ä¸ªç±»å‹åœ¨ç¼–è¯‘æ—¶å¿…é¡»æ˜¯å¯çŸ¥çš„ã€‚å¦‚æœè·å–äº†æŒæœ‰ä¸€ä¸ªä¸åœ¨ç¨‹åºç©ºé—´å†…çš„å¯¹è±¡çš„å¼•ç”¨æˆ–è€…è¿™ä¸ªç±»åœ¨ä½ çš„ç¨‹åºè¿è¡Œè®¸ä¹…ä¹‹åæ‰å‡ºç°ï¼Œæ­¤æ—¶åˆ™æ— æ³•ä½¿ç”¨RTTIã€‚</p>
<p>ä¸ºä»€ä¹ˆéœ€è¦åå°„ï¼Ÿ</p>
<ol>
<li>è§£å†³RTTIçš„é™åˆ¶ï¼›</li>
<li>å¸Œæœ›æä¾›åœ¨è·¨ç½‘ç»œçš„å¹³å°ä¸Šåˆ›å»ºå’Œè¿è¡Œå¯¹è±¡çš„èƒ½åŠ›ï¼Œå³*è¿œç¨‹æ–¹æ³•è°ƒç”¨(RMI)*ã€‚</li>
</ol>
<p>Classç±»ä¸Java.lang.Reflectç±»åº“å¯¹åå°„è¿›è¡Œäº†æ”¯æŒï¼Œè¯¥ç±»åº“åŒ…å«Fieldã€Methodå’ŒConstructorç­‰ç±»ã€‚å¯ä»¥ç”¨invoke()è°ƒç”¨ä¸Methodå…³è”çš„æ–¹æ³•ï¼Œè°ƒç”¨getField()ã€getMethods()å’ŒgetConstructor()ç­‰æ–¹æ³•è¿”å›è¡¨ç¤ºå­—æ®µã€æ–¹æ³•å’Œæ„é€ æ–¹æ³•çš„æ•°ç»„ã€‚</p>
<p><strong>RTTIä¸åå°„ä¹‹é—´çœŸæ­£çš„åŒºåˆ«åœ¨äºå¯¹äºRTTIæ¥è¯´ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶æ‰“å¼€å’Œæ£€æŸ¥.classæ–‡ä»¶ï¼Œè€Œå¯¹äºåå°„æœºåˆ¶æ¥è¯´ï¼Œ.classæ–‡ä»¶åœ¨ç¼–è¯‘æ—¶æ˜¯ä¸å¯è·å–çš„ï¼Œæ‰€ä»¥æ˜¯åœ¨è¿è¡Œæ—¶æ‰“å¼€å’Œæ£€æŸ¥.classæ–‡ä»¶ã€‚</strong></p>
<h3 id="14-6-1-ç±»æ–¹æ³•æå–å™¨"><a href="#14-6-1-ç±»æ–¹æ³•æå–å™¨" class="headerlink" title="14.6.1 ç±»æ–¹æ³•æå–å™¨"></a>14.6.1 ç±»æ–¹æ³•æå–å™¨</h3><pre><code class="java">package com.typeinfo;

import java.lang.reflect.Constructor;
import java.lang.reflect.Method;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-08 9:45
 */
public class ShowMethods &#123;
    private static String usage = &quot;usage&quot;;

    public static void main(String[] args) &#123;
        if (args.length &lt; 1) &#123;
            System.out.println(usage);
            System.exit(0);
        &#125;
        try &#123;
            Class&lt;?&gt; c = Class.forName(args[0]);
            Method[] methods = c.getMethods();
            Constructor[] constructors = c.getConstructors();
            if (args.length == 1) &#123;
                for (Method method : methods) &#123;
                    System.out.println(method.toString());
                &#125;
                for (Constructor constructor : constructors) &#123;
                    System.out.println(constructor.toString());
                &#125;
            &#125; else &#123;
                for (Method method : methods) &#123;
                    if (method.toString().contains(args[1])) &#123;
                        System.out.println(method.toString());
                    &#125;
                &#125;
                for (Constructor constructor : constructors) &#123;
                    if (constructor.toString().contains(args[1])) &#123;
                        System.out.println(constructor.toString());
                    &#125;
                &#125;
            &#125;
        &#125; catch (ClassNotFoundException e) &#123;
            System.out.println(&quot;No such class.&quot;);
        &#125;
    &#125;
&#125;
</code></pre>
<p>output:</p>
<pre><code class="java">public boolean java.lang.String.equals(java.lang.Object)
public java.lang.String java.lang.String.toString()
public int java.lang.String.hashCode()
public int java.lang.String.compareTo(java.lang.String)
public int java.lang.String.compareTo(java.lang.Object)
public int java.lang.String.indexOf(java.lang.String,int)
public int java.lang.String.indexOf(java.lang.String)
public int java.lang.String.indexOf(int,int)
public int java.lang.String.indexOf(int)
public static java.lang.String java.lang.String.valueOf(int)
public static java.lang.String java.lang.String.valueOf(long)
public static java.lang.String java.lang.String.valueOf(float)
public static java.lang.String java.lang.String.valueOf(boolean)
public static java.lang.String java.lang.String.valueOf(char[])
public static java.lang.String java.lang.String.valueOf(char[],int,int)
public static java.lang.String java.lang.String.valueOf(java.lang.Object)
public static java.lang.String java.lang.String.valueOf(char)
public static java.lang.String java.lang.String.valueOf(double)
public char java.lang.String.charAt(int)
public int java.lang.String.codePointAt(int)
public int java.lang.String.codePointBefore(int)
public int java.lang.String.codePointCount(int,int)
public int java.lang.String.compareToIgnoreCase(java.lang.String)
public java.lang.String java.lang.String.concat(java.lang.String)
public boolean java.lang.String.contains(java.lang.CharSequence)
public boolean java.lang.String.contentEquals(java.lang.CharSequence)
public boolean java.lang.String.contentEquals(java.lang.StringBuffer)
public static java.lang.String java.lang.String.copyValueOf(char[])
public static java.lang.String java.lang.String.copyValueOf(char[],int,int)
public boolean java.lang.String.endsWith(java.lang.String)
public boolean java.lang.String.equalsIgnoreCase(java.lang.String)
public static java.lang.String java.lang.String.format(java.util.Locale,java.lang.String,java.lang.Object[])
public static java.lang.String java.lang.String.format(java.lang.String,java.lang.Object[])
public void java.lang.String.getBytes(int,int,byte[],int)
public byte[] java.lang.String.getBytes(java.nio.charset.Charset)
public byte[] java.lang.String.getBytes(java.lang.String) throws java.io.UnsupportedEncodingException
public byte[] java.lang.String.getBytes()
public void java.lang.String.getChars(int,int,char[],int)
public native java.lang.String java.lang.String.intern()
public boolean java.lang.String.isEmpty()
public static java.lang.String java.lang.String.join(java.lang.CharSequence,java.lang.CharSequence[])
public static java.lang.String java.lang.String.join(java.lang.CharSequence,java.lang.Iterable)
public int java.lang.String.lastIndexOf(int)
public int java.lang.String.lastIndexOf(java.lang.String)
public int java.lang.String.lastIndexOf(java.lang.String,int)
public int java.lang.String.lastIndexOf(int,int)
public int java.lang.String.length()
public boolean java.lang.String.matches(java.lang.String)
public int java.lang.String.offsetByCodePoints(int,int)
public boolean java.lang.String.regionMatches(int,java.lang.String,int,int)
public boolean java.lang.String.regionMatches(boolean,int,java.lang.String,int,int)
public java.lang.String java.lang.String.replace(char,char)
public java.lang.String java.lang.String.replace(java.lang.CharSequence,java.lang.CharSequence)
public java.lang.String java.lang.String.replaceAll(java.lang.String,java.lang.String)
public java.lang.String java.lang.String.replaceFirst(java.lang.String,java.lang.String)
public java.lang.String[] java.lang.String.split(java.lang.String)
public java.lang.String[] java.lang.String.split(java.lang.String,int)
public boolean java.lang.String.startsWith(java.lang.String,int)
public boolean java.lang.String.startsWith(java.lang.String)
public java.lang.CharSequence java.lang.String.subSequence(int,int)
public java.lang.String java.lang.String.substring(int)
public java.lang.String java.lang.String.substring(int,int)
public char[] java.lang.String.toCharArray()
public java.lang.String java.lang.String.toLowerCase(java.util.Locale)
public java.lang.String java.lang.String.toLowerCase()
public java.lang.String java.lang.String.toUpperCase()
public java.lang.String java.lang.String.toUpperCase(java.util.Locale)
public java.lang.String java.lang.String.trim()
public final void java.lang.Object.wait() throws java.lang.InterruptedException
public final void java.lang.Object.wait(long,int) throws java.lang.InterruptedException
public final native void java.lang.Object.wait(long) throws java.lang.InterruptedException
public final native java.lang.Class java.lang.Object.getClass()
public final native void java.lang.Object.notify()
public final native void java.lang.Object.notifyAll()
public default java.util.stream.IntStream java.lang.CharSequence.chars()
public default java.util.stream.IntStream java.lang.CharSequence.codePoints()
public java.lang.String(byte[],int,int)
public java.lang.String(byte[],java.nio.charset.Charset)
public java.lang.String(byte[],java.lang.String) throws java.io.UnsupportedEncodingException
public java.lang.String(byte[],int,int,java.nio.charset.Charset)
public java.lang.String(byte[],int,int,java.lang.String) throws java.io.UnsupportedEncodingException
public java.lang.String(java.lang.StringBuilder)
public java.lang.String(java.lang.StringBuffer)
public java.lang.String(byte[])
public java.lang.String(int[],int,int)
public java.lang.String()
public java.lang.String(char[])
public java.lang.String(java.lang.String)
public java.lang.String(char[],int,int)
public java.lang.String(byte[],int)
public java.lang.String(byte[],int,int,int)

Process finished with exit code 0
</code></pre>
<p>å‚æ•°ä¸ºjava.lang.Stringï¼Œåœ¨ideaä¸­è®¾ç½®è¿è¡Œå‚æ•°ï¼šEdit Configurations&gt;Configuration&gt;Program argumentsï¼Œéœ€è¦å¡«å†™æŸä¸ªç±»çš„å…¨é™å®šåã€‚</p>
<h2 id="14-7-åŠ¨æ€ä»£ç†"><a href="#14-7-åŠ¨æ€ä»£ç†" class="headerlink" title="14.7 åŠ¨æ€ä»£ç†"></a>14.7 åŠ¨æ€ä»£ç†</h2><p>ä»£ç†æ˜¯åŸºæœ¬çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ï¼Œæ˜¯ç”¨æ¥ä»£æ›¿å®é™…å¯¹è±¡çš„å¯¹è±¡ï¼Œé€šå¸¸æ¶‰åŠä¸å®é™…å¯¹è±¡çš„é€šä¿¡ï¼Œå……å½“ä¸­é—´äººçš„è§’è‰²ã€‚</p>
<pre><code class="java">package com.typeinfo;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-08 10:22
 */
public class SimpleProxyDemo &#123;
    public static void consumer(Interface inter) &#123;
        inter.doSomething();
        inter.somethingElse(&quot;banana&quot;);
    &#125;

    public static void main(String[] args) &#123;
        consumer(new RealObject());
        consumer(new ProxyObject(new RealObject()));
    &#125;
&#125;

interface Interface &#123;
    void doSomething();

    void somethingElse(String arg);
&#125;

class RealObject implements Interface &#123;

    @Override
    public void doSomething() &#123;
        System.out.println(&quot;do something.&quot;);
    &#125;

    @Override
    public void somethingElse(String arg) &#123;
        System.out.println(&quot;do something else :&quot; + arg);
    &#125;
&#125;

class ProxyObject implements Interface &#123;
    private Interface proxied;

    public ProxyObject(Interface proxied) &#123;
        this.proxied = proxied;
    &#125;

    @Override
    public void doSomething() &#123;
        System.out.println(&quot;proxy object do something.&quot;);
        proxied.doSomething();
    &#125;

    @Override
    public void somethingElse(String arg) &#123;
        System.out.println(&quot;proxy object do something else: &quot; + arg);
        proxied.somethingElse(arg);
    &#125;
&#125;
</code></pre>
<p>output:</p>
<pre><code class="java">do something.
do something else :banana
proxy object do something.
do something.
proxy object do something else: banana
do something else :banana

Process finished with exit code 0
</code></pre>
<p>å½“æƒ³è¦æ‰§è¡Œä¸€äº›é¢å¤–æ“ä½œï¼ŒåŒæ—¶æƒ³å°†è¿™äº›æ“ä½œä»â€å®é™…â€å¯¹è±¡ä¸­åˆ†ç¦»å‡ºå»æ—¶ï¼Œæˆ–è€…æƒ³è¦æ›´åŠ å®¹æ˜“çš„åšå‡ºä¿®æ”¹æ—¶ä»£ç†æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚</p>
<p>é€šè¿‡è°ƒç”¨é™æ€æ–¹æ³•Proxy.newProxyInstance()å¯ä»¥åˆ›å»ºåŠ¨æ€ä»£ç†å¯¹è±¡ï¼Œ<br>newProxyInstance(ClassLoader loader, Class&lt;?&gt;[] interfaces, InvocationHandler h)<br>Returns an instance of a proxy class for the specified interfaces that dispatches method invocations to the specified invocation handler.</p>
<pre><code class="java">package com.typeinfo;

import java.lang.reflect.InvocationHandler;
import java.lang.reflect.Method;
import java.lang.reflect.Proxy;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-08 10:35
 */
public class SimpleDynamicProxy &#123;
    public static void consumer(Interface inter) &#123;
        inter.doSomething();
        inter.somethingElse(&quot;Banana&quot;);
    &#125;

    public static void main(String[] args) &#123;
        RealObject realObject = new RealObject();
        consumer(realObject);
        Interface proxy = (Interface) Proxy.newProxyInstance(Interface.class.getClassLoader(),
                new Class[]&#123;Interface.class&#125;, new DynamicProxyHandler(realObject));
        consumer(proxy);
    &#125;
&#125;

class DynamicProxyHandler implements InvocationHandler &#123;
    private Object proxied;

    public DynamicProxyHandler(Object proxied) &#123;
        this.proxied = proxied;
    &#125;

    @Override
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;
        System.out.println(&quot;proxy: &quot; + proxy.getClass() + &quot; .method: &quot; + method + &quot; .args: &quot; + args);
        if (args != null) &#123;
            for (Object object : args) &#123;
                System.out.println(object + &quot;   &quot;);
            &#125;
        &#125;
        return method.invoke(proxied, args);
    &#125;
&#125;
</code></pre>
<p>output:</p>
<pre><code class="java">do something.
do something else :Banana
proxy: class com.typeinfo.$Proxy0 .method: public abstract void com.typeinfo.Interface.doSomething() .args: null
do something.
proxy: class com.typeinfo.$Proxy0 .method: public abstract void com.typeinfo.Interface.somethingElse(java.lang.String) .args: [Ljava.lang.Object;@12a3a380
Banana   
do something else :Banana

Process finished with exit code 0
</code></pre>
<h2 id="14-8-ç©ºå¯¹è±¡"><a href="#14-8-ç©ºå¯¹è±¡" class="headerlink" title="14.8 ç©ºå¯¹è±¡"></a>14.8 ç©ºå¯¹è±¡</h2><p>å½“æ—¶ç”¨å†…ç½®çš„nullå»è¡¨ç¤ºç©ºå¯¹è±¡æ—¶ï¼Œåœ¨æ¯æ¬¡ä½¿ç”¨è¿™ä¸ªå¯¹è±¡çš„æ—¶å€™éƒ½éœ€è¦å…ˆåˆ¤æ–­è¯¥å¯¹è±¡æ˜¯å¦ä¸ºnullï¼Œå¹¶ä¸”åˆ¤æ–­é™¤äº†ç”¨æ¥äº§ç”ŸNullPointerExceptionä¹‹å¤–ï¼Œæ²¡æœ‰ä»»ä½•å¸®åŠ©ï¼Œè¿˜ä¼šäº§ç”Ÿå¤§é‡å†—ä½™ä»£ç ã€‚æˆ‘ä»¬å¸Œæœ›æœ‰ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå¯ä»¥æ¥æ”¶ä¼ ä¼ ç»™å®ƒæ‰€ä»£è¡¨çš„å¯¹è±¡ï¼Œä½†æ˜¯å°†è¿”å›è¡¨ç¤ºè¯¥å¯¹è±¡ä¸å­˜åœ¨çš„ä»»ä½•çœŸå®å¯¹è±¡çš„å€¼ã€‚<br>æœ€ç®€å•çš„æ˜¯åˆ›å»ºä¸€ä¸ªæ ‡è®°æ¥å£ã€‚</p>
<pre><code class="java">package com.typeinfo;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-08 11:02
 */
public class NullPerson extends Person implements Null &#123;
    private NullPerson() &#123;
        super(&quot;None&quot;, &quot;None&quot;, &quot;None&quot;);
    &#125;

    public String toString() &#123;
        return &quot;NullPerson&quot;;
    &#125;

    public static final Person Null = new NullPerson();
&#125;

interface Null &#123;
&#125;

class Person &#123;
    public final String first;
    public final String last;
    public final String address;

    public Person(String first, String last, String address) &#123;
        this.first = first;
        this.last = last;
        this.address = address;
    &#125;

    @Override
    public String toString() &#123;
        return &quot;Person&#123;&quot; +
                &quot;first=&#39;&quot; + first + &#39;\&#39;&#39; +
                &quot;, last=&#39;&quot; + last + &#39;\&#39;&#39; +
                &quot;, address=&#39;&quot; + address + &#39;\&#39;&#39; +
                &#39;&#125;&#39;;
    &#125;
&#125;
</code></pre>
<h2 id="14-9-æ¥å£ä¸ç±»å‹ä¿¡æ¯"><a href="#14-9-æ¥å£ä¸ç±»å‹ä¿¡æ¯" class="headerlink" title="14.9 æ¥å£ä¸ç±»å‹ä¿¡æ¯"></a>14.9 æ¥å£ä¸ç±»å‹ä¿¡æ¯</h2><p>interfaceçš„ä¸€ç§é‡è¦ç›®æ ‡å°±æ˜¯å…è®¸éš”ç¦»æ„ä»¶ï¼Œè¿›è€Œé™ä½è€¦åˆåº¦ï¼Œå¦‚æœç¼–å†™æ¥å£ï¼Œé‚£ä¹ˆå¯ä»¥å®ç°è¿™ä¸€ç›®æ ‡ï¼Œä½†æ˜¯é€šè¿‡ç±»å‹ä¿¡æ¯ï¼Œè¿™ç§è€¦åˆæ€§è¿˜æ˜¯ä¼šä¼ æ’­å‡ºå»ã€‚</p>
<pre><code class="java">package com.typeinfo;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-08 11:13
 */
public class InterfaceViolation &#123;
    public static void main(String[] args) &#123;
        A a = new B();
        a.f();
        System.out.println(a.getClass().getCanonicalName());
        if (a instanceof B) &#123;
            B b = (B) a;
            b.g();
        &#125;
    &#125;
&#125;

interface A &#123;
    void f();
&#125;

class B implements A &#123;

    @Override
    public void f() &#123;
    &#125;

    public void g() &#123;
    &#125;
&#125;
</code></pre>
<p>aè¢«å½“ä½œBå®ç°ï¼Œé€šè¿‡è½¬å‹ä¸ºBï¼Œå¯ä»¥è°ƒç”¨Aä¸­ä¸å­˜åœ¨çš„æ–¹æ³•ã€‚<br>ä¸€ç§è§£å†³æ–¹æ³•æ˜¯ç›´æ¥å£°æ˜ï¼Œä½¿ç”¨å®é™…çš„ç±»è€Œä¸æ˜¯æ¥å£ã€‚æœ€ç®€å•çš„æ–¹å¼æ˜¯å¯¹å®ç°ä½¿ç”¨åŒ…è®¿é—®æƒé™ï¼Œè¿™æ ·åœ¨åŒ…å¤–ä¾¿æ— æ³•è®¿é—®ã€‚</p>
<pre><code class="java">package com.typeinfo;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-08 11:27
 */
public class HiddenC &#123;
    public static A makeA() &#123;
        return new C();
    &#125;
&#125;

class C implements A &#123;

    @Override
    public void f() &#123;
    &#125;

    public void g() &#123;
    &#125;

    void u() &#123;
    &#125;
    
    protected void v() &#123;
    &#125;
    
    private void w() &#123;
    &#125;
&#125;
</code></pre>
<p>å³ä½¿ä»makeA()è¿”å›çš„æ˜¯Cç±»å‹ï¼Œåœ¨åŒ…å¤–ä¾ç„¶æ— æ³•ä½¿ç”¨Aä¹‹å¤–çš„ä»»ä½•æ–¹æ³•ã€‚</p>
<pre><code class="java">package com.typeinfo;

import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-08 11:30
 */
public class HiddenImplementation &#123;
    public static void main(String[] args) throws NoSuchMethodException, IllegalAccessException,
            InvocationTargetException &#123;
        A a = HiddenC.makeA();
        a.f();
        System.out.println(a.getClass().getCanonicalName());
        if (a instanceof C) &#123;
            C c = (C) a;
            c.g();
        &#125;
        callHiddenMethod(a, &quot;g&quot;);
        callHiddenMethod(a, &quot;v&quot;);
        callHiddenMethod(a, &quot;u&quot;);
        callHiddenMethod(a, &quot;w&quot;);
    &#125;

    static void callHiddenMethod(Object object, String methodName) throws NoSuchMethodException,
            InvocationTargetException, IllegalAccessException &#123;
        Method g = object.getClass().getDeclaredMethod(methodName);
        g.setAccessible(true);
        g.invoke(object);
    &#125;
&#125;
</code></pre>
<p>output:</p>
<pre><code class="java">public f().
com.typeinfo.C
public g().
public g().
protected v().
package u().
private w().

Process finished with exit code 0
</code></pre>
<p>é€šè¿‡åå°„ï¼Œä»æ—§å¯ä»¥è°ƒç”¨æ‰€æœ‰æ–¹æ³•ï¼Œç”šè‡³æ˜¯privateæ–¹æ³•ï¼Œå¦‚æœçŸ¥é“æ–¹æ³•åï¼Œå¯ä»¥åœ¨Methodå¯¹è±¡ä¸Šè°ƒç”¨setAccessible(true)ã€‚<br>ç”šè‡³ä½¿ç”¨å‘å¸ƒç¼–è¯‘åçš„ä»£ç ä¹Ÿæ— æ³•é˜»æ­¢è¿™ç§æƒ…å†µï¼Œå› ä¸ºåœ¨å‘å¸ƒçš„jdkä¸­æœ‰åç¼–è¯‘å™¨ä¾¿å¯çªç ´è¿™ä¸€é™åˆ¶ã€‚<br>å†…éƒ¨ç±»ä¸åŒ¿åç±»ä¹Ÿæ— æ³•é˜»æ­¢åå°„åˆ°è¾¾å¹¶è°ƒç”¨éå…¬å…±è®¿é—®æƒé™çš„æ–¹æ³•ã€‚</p>
<pre><code class="java">package com.typeinfo;

import java.lang.reflect.InvocationTargetException;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-08 11:46
 */
public class InnerImplementation &#123;
    public static void main(String[] args) throws NoSuchMethodException, IllegalAccessException, InvocationTargetException &#123;
        A a = InnerA.makeA();
        a.f();
        System.out.println(a.getClass().getName());
        HiddenImplementation.callHiddenMethod(a, &quot;g&quot;);
        HiddenImplementation.callHiddenMethod(a, &quot;u&quot;);
        HiddenImplementation.callHiddenMethod(a, &quot;v&quot;);
        HiddenImplementation.callHiddenMethod(a, &quot;w&quot;);
    &#125;
&#125;

class InnerA &#123;
    private static class C implements A &#123;

        @Override
        public void f() &#123;
            System.out.println(&quot;C.f()&quot;);
        &#125;

        public void g() &#123;
            System.out.println(&quot;C.g()&quot;);
        &#125;

        void u() &#123;
            System.out.println(&quot;C.u()&quot;);
        &#125;

        protected void v() &#123;
            System.out.println(&quot;C.v()&quot;);
        &#125;

        private void w() &#123;
            System.out.println(&quot;C.w()&quot;);
        &#125;
    &#125;

    public static A makeA()&#123;
        return new C();
    &#125;
&#125;
</code></pre>
<p>output:</p>
<pre><code class="java">C.f()
com.typeinfo.InnerA$C
C.g()
C.u()
C.v()
C.w()

Process finished with exit code 0
</code></pre>
<pre><code class="java">package com.typeinfo;

import java.lang.reflect.InvocationTargetException;

/**
 * @author zhulongkun20@163.com
 * @since 2018-06-08 11:51
 */
public class AnonymousImplementation &#123;
    public static void main(String[] args) throws NoSuchMethodException, IllegalAccessException,
            InvocationTargetException &#123;
        A a = AnonymousA.makeA();
        a.f();
        System.out.println(a.getClass().getName());
        HiddenImplementation.callHiddenMethod(a, &quot;g&quot;);
        HiddenImplementation.callHiddenMethod(a, &quot;u&quot;);
        HiddenImplementation.callHiddenMethod(a, &quot;v&quot;);
        HiddenImplementation.callHiddenMethod(a, &quot;w&quot;);
    &#125;
&#125;

class AnonymousA &#123;
    public static A makeA() &#123;
        return new A() &#123;
            @Override
            public void f() &#123;
                System.out.println(&quot;public c.f()&quot;);
            &#125;

            public void g() &#123;
                System.out.println(&quot;public c.g()&quot;);
            &#125;

            void u() &#123;
                System.out.println(&quot;package u()&quot;);
            &#125;

            protected void v() &#123;
                System.out.println(&quot;protected v()&quot;);
            &#125;

            private void w() &#123;
                System.out.println(&quot;private w()&quot;);
            &#125;
        &#125;;
    &#125;
&#125;
</code></pre>
<p>output:</p>
<pre><code class="java">public c.f()
com.typeinfo.AnonymousA$1
public c.g()
package u()
protected v()
private w()

Process finished with exit code 0
</code></pre>

  </div>
</article>


    <div class="blog-post-comments">
        <div id="utterances_thread">
            <noscript>åŠ è½½è¯„è®ºéœ€è¦åœ¨æµè§ˆå™¨å¯ç”¨ JavaScript è„šæœ¬æ”¯æŒã€‚</noscript>
        </div>
    </div>


        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">é¦–é¡µ</a></li>
        
          <li><a href="/archives/">å½’æ¡£</a></li>
        
          <li><a href="/friends/">å‹é“¾</a></li>
        
          <li><a href="/about/">å…³äº</a></li>
        
          <li><a target="_blank" rel="noopener" href="https://www.travellings.cn/go.html">å¼€å¾€ ğŸš‡</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0-%E7%B1%BB%E5%9E%8B%E4%BF%A1%E6%81%AF"><span class="toc-number">1.</span> <span class="toc-text">ç¬¬åå››ç«  ç±»å‹ä¿¡æ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#14-1-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81RTTI-Run-Time-Type-Identification"><span class="toc-number">1.1.</span> <span class="toc-text">14.1 ä¸ºä»€ä¹ˆéœ€è¦RTTI(Run-Time Type Identification)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-2-Class%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.2.</span> <span class="toc-text">14.2 Classå¯¹è±¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#output-javaClass-name-com-typeinfo-FancyToy-is-interface-false-Simple-name-FancyToyCanonical-name-com-typeinfo-FancyToy"><span class="toc-number">1.3.</span> <span class="toc-text">output:&#96;&#96;&#96;javaClass name: com.typeinfo.FancyToy is interface? [false]Simple name: FancyToyCanonical name: com.typeinfo.FancyToy</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Class-name-com-typeinfo-HasBatteries-is-interface-true-Simple-name-HasBatteriesCanonical-name-com-typeinfo-HasBatteries"><span class="toc-number">1.4.</span> <span class="toc-text">Class name: com.typeinfo.HasBatteries is interface? [true]Simple name: HasBatteriesCanonical name: com.typeinfo.HasBatteries</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Class-name-com-typeinfo-WaterProof-is-interface-true-Simple-name-WaterProofCanonical-name-com-typeinfo-WaterProof"><span class="toc-number">1.5.</span> <span class="toc-text">Class name: com.typeinfo.WaterProof is interface? [true]Simple name: WaterProofCanonical name: com.typeinfo.WaterProof</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Class-name-com-typeinfo-Shoots-is-interface-true-Simple-name-ShootsCanonical-name-com-typeinfo-Shoots"><span class="toc-number">1.6.</span> <span class="toc-text">Class name: com.typeinfo.Shoots is interface? [true]Simple name: ShootsCanonical name: com.typeinfo.Shoots</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Class-name-com-typeinfo-Toy-is-interface-false-Simple-name-ToyCanonical-name-com-typeinfo-Toy"><span class="toc-number">1.7.</span> <span class="toc-text">Class name: com.typeinfo.Toy is interface? [false]Simple name: ToyCanonical name: com.typeinfo.Toy</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#14-2-2-%E6%B3%9B%E5%8C%96%E7%9A%84Class%E5%BC%95%E7%94%A8"><span class="toc-number">1.7.1.</span> <span class="toc-text">14.2.2 æ³›åŒ–çš„Classå¼•ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-2-3-%E6%96%B0%E7%9A%84%E8%BD%AC%E5%9E%8B%E8%AF%AD%E6%B3%95"><span class="toc-number">1.7.2.</span> <span class="toc-text">14.2.3 æ–°çš„è½¬å‹è¯­æ³•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-3-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E5%89%8D%E5%85%88%E5%81%9A%E6%A3%80%E6%9F%A5"><span class="toc-number">1.8.</span> <span class="toc-text">14.3 ç±»å‹è½¬æ¢å‰å…ˆåšæ£€æŸ¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-5-instanceof%E5%92%8CClass%E7%9A%84%E7%AD%89%E4%BB%B7%E6%80%A7"><span class="toc-number">1.9.</span> <span class="toc-text">14.5 instanceofå’ŒClassçš„ç­‰ä»·æ€§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-6-%E5%8F%8D%E5%B0%84%EF%BC%9A%E8%BF%90%E8%A1%8C%E6%97%B6%E7%9A%84%E7%B1%BB%E4%BF%A1%E6%81%AF"><span class="toc-number">1.10.</span> <span class="toc-text">14.6 åå°„ï¼šè¿è¡Œæ—¶çš„ç±»ä¿¡æ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#14-6-1-%E7%B1%BB%E6%96%B9%E6%B3%95%E6%8F%90%E5%8F%96%E5%99%A8"><span class="toc-number">1.10.1.</span> <span class="toc-text">14.6.1 ç±»æ–¹æ³•æå–å™¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-7-%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span class="toc-number">1.11.</span> <span class="toc-text">14.7 åŠ¨æ€ä»£ç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-8-%E7%A9%BA%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.12.</span> <span class="toc-text">14.8 ç©ºå¯¹è±¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-9-%E6%8E%A5%E5%8F%A3%E4%B8%8E%E7%B1%BB%E5%9E%8B%E4%BF%A1%E6%81%AF"><span class="toc-number">1.13.</span> <span class="toc-text">14.9 æ¥å£ä¸ç±»å‹ä¿¡æ¯</span></a></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <!-- <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://lozhu.happy365.day/2019/02/01/c61bac95725c/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li> -->
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&text=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <!-- <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&title=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li> -->
  <!-- <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&is_video=false&description=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li> -->
  <li><a class="icon" href="mailto:?subject=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯&body=Check out this article: https://lozhu.happy365.day/2019/02/01/c61bac95725c/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&title=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <!-- <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&title=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li> -->
  <!-- <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&title=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li> -->
  <!-- <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&title=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li> -->
  <!-- <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&name=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯&description=&lt;h1 id=&#34;ç¬¬åå››ç« -ç±»å‹ä¿¡æ¯&#34;&gt;&lt;a href=&#34;#ç¬¬åå››ç« -ç±»å‹ä¿¡æ¯&#34; class=&#34;headerlink&#34; title=&#34;ç¬¬åå››ç«  ç±»å‹ä¿¡æ¯&#34;&gt;&lt;/a&gt;ç¬¬åå››ç«  ç±»å‹ä¿¡æ¯&lt;/h1&gt;&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯å¯ä»¥ä½¿å¾—ä½ å¯ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶å‘ç°å’Œä½¿ç”¨ç±»å‹ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ¬ç« ä¸»è¦è®¨è®ºJavaå¦‚ä½•è®©æˆ‘ä»¬åœ¨è¿è¡Œæ—¶è¯†åˆ«å¯¹è±¡å’Œç±»çš„ä¿¡æ¯ï¼Œä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;â€œä¼ ç»Ÿçš„RTTIâ€ï¼Œå‡å®šæˆ‘ä»¬åœ¨ç¼–è¯‘æ—¶å·²ç»çŸ¥é“äº†æ‰€æœ‰çš„ç±»å‹ï¼›&lt;/li&gt;
&lt;li&gt;â€œåå°„æœºåˆ¶â€ï¼Œå…è®¸åœ¨è¿è¡Œæ—¶å‘ç°å’Œä½¿ç”¨ç±»çš„ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ol&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li> -->
  <!-- <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://lozhu.happy365.day/2019/02/01/c61bac95725c/&t=Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li> -->
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> èœå•</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> ç›®å½•</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> åˆ†äº«</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> è¿”å›é¡¶éƒ¨</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    <!-- Copyright --> &copy;
    
    
    2018-2024
    lozhu
  </div>
  
    <div>
      <a href="https://icp.gov.moe/?keyword=20249900" target="_blank">èŒICPå¤‡ 20249900 å·</a>
    </div>
  
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">é¦–é¡µ</a></li><!--
     --><!--
       --><li><a href="/archives/">å½’æ¡£</a></li><!--
     --><!--
       --><li><a href="/friends/">å‹é“¾</a></li><!--
     --><!--
       --><li><a href="/about/">å…³äº</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://www.travellings.cn/go.html">å¼€å¾€ ğŸš‡</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"å¤åˆ¶åˆ°ç²˜è´´æ¿ï¼\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "å¤åˆ¶æˆåŠŸï¼");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

  <script type="text/javascript">
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?8bdf047ae0a66729bd3b27e8bb56fe11";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
      </script>

<!-- 51la Analytics -->

  <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
  <script>
  LA.init({
      id: '3I0QIERSX42bDzDc',
      ck: '3I0QIERSX42bDzDc'
  })
  </script>

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

    <script type="text/javascript">
      var utterances_repo = 'lozhu20/my-blog-comments';
      var utterances_issue_term = 'pathname';
      var utterances_label = 'Comment';
      var utterances_theme = 'github-light';

      (function(){
          var script = document.createElement('script');

          script.src = 'https://utteranc.es/client.js';
          script.setAttribute('repo', utterances_repo);
          script.setAttribute('issue-term', 'pathname');
          script.setAttribute('label', utterances_label);
          script.setAttribute('theme', utterances_theme);
          script.setAttribute('crossorigin', 'anonymous');
          script.async = true;
          (document.getElementById('utterances_thread')).appendChild(script);
      }());
  </script>

<!-- image modal -->
<script>
  (function() {
    var contentNode = document.getElementsByClassName('content e-content');
    if (!contentNode || contentNode.length === 0) {
      console.log('no content, exit');
      return;
    }

    var imgsNodes = contentNode[0].getElementsByTagName('img');
    if (!imgsNodes || imgsNodes.length === 0) {
      console.log('no image, exit');
      return;
    }

    var span = document.getElementById('modal_close_btn');
    span.onclick = function() { 
      modal.style.display = "none";
    };

    var modal = document.getElementById('modal');
    var modalImage = document.getElementById('modal_image');
    var captionText = document.getElementById('caption');

    for (var i = imgsNodes.length - 1; i >= 0; i--) {
      let image = imgsNodes[i];
      image.onclick = function() {
        modal.style.display = "block";
        modalImage.src = this.src;
        captionText.innerHTML = this.alt || "æ–‡ç« é…å›¾";
      };
    }
  }());
</script>

</body>
</html>
